import{l as j,w as A,d as H,c as r,t as g,p as J,a as L,s as w,g as n,u as N,b as O,e as I,f as y,h as S,i as T,m as W}from"./disclose-version-C217dOyM.js";import{f as b,a as m,d as e,s as o,b as q,c as F,e as G}from"./dock_data.svelte-CfL4SXtD.js";import{e as K,i as M,a as Q}from"./each-BcYxHjQE.js";function k(c,u){j(window,["resize"],()=>A(()=>u(window[c])))}var R=b('<audio preload="auto"></audio>'),U=b('<main><div role="link" aria-label="Change Page"><img alt="Illustration"/> <div class="h-full w-full flex flex-col justify-center text-center"><div class="p-6"><p> </p></div> <div class="h-18"></div></div></div> <!></main>');function V(c,u){L(u,!0);let v=y(0),x=y(0),B=N(()=>n(v)>n(x)?"flex-row":"flex-col");const d=JSON.parse(document.getElementById("pages-data").textContent);function s(t){if(e.currentIndex>0){let a=document.getElementById(`audio-${e.currentIndex}`);a&&(a.pause(),a.currentTime=0)}if(t.clientX>window.screen.width/4&&e.currentIndex<d.length-1){e.currentIndex++;let a=document.getElementById(`audio-${e.currentIndex}`);a&&e.sound&&a.play()}else t.clientX<window.screen.width/4&&e.currentIndex>0&&e.currentIndex--}var p=U(),i=r(p);i.__click=s,i.__keyup=t=>t.key==="ArrowLeft"?s({clientX:0}):s({clientX:1e4});var _=r(i),X=w(_,2),E=r(X),C=r(E),P=r(C),z=w(i,2);K(z,17,()=>d,M,(t,a)=>{var h=G(),D=S(h);{var $=f=>{var l=R();g(()=>{o(l,"id",n(a).audio.id),o(l,"src",n(a).audio.url)}),T("ended",l,()=>{e.autoplay&&s({clientX:1e4})}),m(f,l)};Q(D,f=>{n(a).audio&&f($)})}m(t,h)}),g(()=>{o(i,"tabindex",e.currentIndex),q(i,1,F(["h-screen flex",n(B)])),o(_,"src",d[e.currentIndex].image),O(P,d[e.currentIndex].text)}),k("innerWidth",t=>I(v,t,!0)),k("innerHeight",t=>I(x,t,!0)),m(c,p),J()}H(["click","keyup"]);W(V,{target:document.getElementById("book_detail")});
