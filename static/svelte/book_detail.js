import{l as $,w as q,d as A,f as b,c as r,t as g,a as f,p as H,b as e,e as J,s as w,g as o,h as L,i as N,j as n,u as O,k as S,m as I,n as k,o as T,q as W,r as F,v as G}from"./dock_data.svelte-CaICinbO.js";import{e as K,i as M,a as Q}from"./each-DKbWlts3.js";function y(c,u){$(window,["resize"],()=>q(()=>u(window[c])))}var R=b('<audio preload="auto"></audio>'),U=b('<main><div role="link" aria-label="Change Page"><img alt="Illustration"/> <div class="h-full w-full flex flex-col justify-center text-center"><div class="p-6"><p> </p></div> <div class="h-18"></div></div></div> <!></main>');function V(c,u){J(u,!0);let m=k(0),x=k(0),B=O(()=>n(m)>n(x)?"flex-row":"flex-col");const d=JSON.parse(document.getElementById("pages-data").textContent);function s(t){if(e.currentIndex>0){let a=document.getElementById(`audio-${e.currentIndex}`);a&&(a.pause(),a.currentTime=0)}if(t.clientX>window.screen.width/4&&e.currentIndex<d.length-1){e.currentIndex++;let a=document.getElementById(`audio-${e.currentIndex}`);a&&e.sound&&a.play()}else t.clientX<window.screen.width/4&&e.currentIndex>0&&e.currentIndex--}var _=U(),i=r(_);i.__click=s,i.__keyup=t=>t.key==="ArrowLeft"?s({clientX:0}):s({clientX:1e4});var p=r(i),X=w(p,2),E=r(X),C=r(E),P=r(C),j=w(i,2);K(j,17,()=>d,M,(t,a)=>{var h=T(),z=W(h);{var D=v=>{var l=R();g(()=>{o(l,"id",n(a).audio.id),o(l,"src",n(a).audio.url)}),F("ended",l,()=>{e.autoplay&&s({clientX:1e4})}),f(v,l)};Q(z,v=>{n(a).audio&&v(D)})}f(t,h)}),g(()=>{o(i,"tabindex",e.currentIndex),L(i,1,N(["h-screen flex",n(B)])),o(p,"src",d[e.currentIndex].image),S(P,d[e.currentIndex].text)}),y("innerWidth",t=>I(m,t,!0)),y("innerHeight",t=>I(x,t,!0)),f(c,_),H()}A(["click","keyup"]);G(V,{target:document.getElementById("book_detail")});
