import{_ as R,$ as B,a0 as S,a1 as D,z as x,a2 as M,a3 as U,a4 as O,x as P,E as X,j as V,J as $,a5 as q,a6 as k,a7 as J,a8 as G,a9 as K,aa as Q,ab as W,ac as N,ad as Y,ae as Z,af as H,ag as y}from"./dock_data.svelte-d85s_x5M.js";class j{anchor;#r=new Map;#f=new Map;#e=new Map;#n=new Set;#s=!0;constructor(f,n=!0){this.anchor=f,this.#s=n}#a=()=>{var f=R;if(this.#r.has(f)){var n=this.#r.get(f),i=this.#f.get(n);if(i)B(i),this.#n.delete(n);else{var u=this.#e.get(n);u&&(this.#f.set(n,u.effect),this.#e.delete(n),u.fragment.lastChild.remove(),this.anchor.before(u.fragment),i=u.effect)}for(const[t,l]of this.#r){if(this.#r.delete(t),t===f)break;const e=this.#e.get(l);e&&(S(e.effect),this.#e.delete(l))}for(const[t,l]of this.#f){if(t===n||this.#n.has(t))continue;const e=()=>{if(Array.from(this.#r.values()).includes(t)){var o=document.createDocumentFragment();U(l,o),o.append(x()),this.#e.set(t,{effect:l,fragment:o})}else S(l);this.#n.delete(t),this.#f.delete(t)};this.#s||!i?(this.#n.add(t),D(l,e,!1)):e()}}};#t=f=>{this.#r.delete(f);const n=Array.from(this.#r.values());for(const[i,u]of this.#e)n.includes(i)||(S(u.effect),this.#e.delete(i))};ensure(f,n){var i=R,u=O();if(n&&!this.#f.has(f)&&!this.#e.has(f))if(u){var t=document.createDocumentFragment(),l=x();t.append(l),this.#e.set(f,{effect:M(()=>n(l)),fragment:t})}else this.#f.set(f,M(()=>n(this.anchor)));if(this.#r.set(i,f),u){for(const[e,a]of this.#f)e===f?i.skipped_effects.delete(a):i.skipped_effects.add(a);for(const[e,a]of this.#e)e===f?i.skipped_effects.delete(a.effect):i.skipped_effects.add(a.effect);i.oncommit(this.#a),i.ondiscard(this.#t)}else this.#a()}}function se(r,f,n=!1){var i=new j(r),u=n?X:0;function t(l,e){i.ensure(l,e)}P(()=>{var l=!1;f((e,a=!0)=>{l=!0,t(a,e)}),l||t(!1,null)},u)}function ae(r,f){return f}function ee(r,f,n){for(var i=[],u=f.length,t,l=f.length,e=0;e<u;e++){let h=f[e];D(h,()=>{if(t){if(t.pending.delete(h),t.done.add(h),t.pending.size===0){var E=r.outrogroups;z(H(t.done)),E.delete(t),E.size===0&&(r.outrogroups=null)}}else l-=1},!1)}if(l===0){var a=i.length===0&&n!==null;if(a){var o=n,c=o.parentNode;Z(c),c.append(o),r.items.clear()}z(f,!a)}else t={pending:new Set(f),done:new Set},(r.outrogroups??=new Set).add(t)}function z(r,f=!0){for(var n=0;n<r.length;n++)S(r[n],f)}var L;function te(r,f,n,i,u,t=null){var l=r,e=new Map,a=null,o=$(()=>{var d=n();return y(d)?d:d==null?[]:H(d)}),c,h=!0;function E(){s.fallback=a,re(s,c,l,f,i),a!==null&&(c.length===0?(a.f&k)===0?B(a):(a.f^=k,C(a,null,l)):D(a,()=>{a=null}))}var F=P(()=>{c=V(o);for(var d=c.length,T=new Set,g=R,v=O(),_=0;_<d;_+=1){var A=c[_],m=i(A,_),p=h?null:e.get(m);p?(p.v&&q(p.v,A),p.i&&q(p.i,_),v&&g.skipped_effects.delete(p.e)):(p=fe(e,h?l:L??=x(),A,m,_,u,f,n),h||(p.e.f|=k),e.set(m,p)),T.add(m)}if(d===0&&t&&!a&&(h?a=M(()=>t(l)):(a=M(()=>t(L??=x())),a.f|=k)),!h)if(v){for(const[I,b]of e)T.has(I)||g.skipped_effects.add(b.e);g.oncommit(E),g.ondiscard(()=>{})}else E();V(o)}),s={effect:F,items:e,outrogroups:null,fallback:a};h=!1}function re(r,f,n,i,u){var t=f.length,l=r.items,e=r.effect.first,a,o=null,c=[],h=[],E,F,s,d;for(d=0;d<t;d+=1){if(E=f[d],F=u(E,d),s=l.get(F).e,r.outrogroups!==null)for(const b of r.outrogroups)b.pending.delete(s),b.done.delete(s);if((s.f&k)!==0)if(s.f^=k,s===e)C(s,null,n);else{var T=o?o.next:e;s===r.effect.last&&(r.effect.last=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),w(r,o,s),w(r,s,T),C(s,T,n),o=s,c=[],h=[],e=o.next;continue}if((s.f&N)!==0&&B(s),s!==e){if(a!==void 0&&a.has(s)){if(c.length<h.length){var g=h[0],v;o=g.prev;var _=c[0],A=c[c.length-1];for(v=0;v<c.length;v+=1)C(c[v],g,n);for(v=0;v<h.length;v+=1)a.delete(h[v]);w(r,_.prev,A.next),w(r,o,_),w(r,A,g),e=g,o=A,d-=1,c=[],h=[]}else a.delete(s),C(s,e,n),w(r,s.prev,s.next),w(r,s,o===null?r.effect.first:o.next),w(r,o,s),o=s;continue}for(c=[],h=[];e!==null&&e!==s;)(a??=new Set).add(e),h.push(e),e=e.next;if(e===null)continue}(s.f&k)===0&&c.push(s),o=s,e=s.next}if(r.outrogroups!==null){for(const b of r.outrogroups)b.pending.size===0&&(z(H(b.done)),r.outrogroups?.delete(b));r.outrogroups.size===0&&(r.outrogroups=null)}if(e!==null||a!==void 0){var m=[];if(a!==void 0)for(s of a)(s.f&N)===0&&m.push(s);for(;e!==null;)(e.f&N)===0&&e!==r.fallback&&m.push(e),e=e.next;var p=m.length;if(p>0){var I=null;ee(r,m,I)}}}function fe(r,f,n,i,u,t,l,e){var a=(l&K)!==0?(l&Q)===0?G(n,!1,!1):J(n):null,o=(l&W)!==0?J(u):null;return{v:a,i:o,e:M(()=>(t(f,a??n,o??u,e),()=>{r.delete(i)}))}}function C(r,f,n){if(r.nodes)for(var i=r.nodes.start,u=r.nodes.end,t=f&&(f.f&k)===0?f.nodes.start:n;i!==null;){var l=Y(i);if(t.before(i),i===u)return;i=l}}function w(r,f,n){f===null?r.effect.first=n:f.next=n,n===null?r.effect.last=f:n.prev=f}export{j as B,se as a,te as e,ae as i};
