import{b as $,a7 as H,ah as T,n as U,p as _,o as M}from"./disclose-version-mPVtRhrL.js";import{r as Y}from"./props-slmf16vM.js";const N=300,X=60,P="none";function B(t){return Array.isArray(t)?t:[t]}function v(t,n,e){return t.addEventListener(n,e),()=>t.removeEventListener(n,e)}function x(t,n){return n.filter(e=>t.pointerId!==e.pointerId)}function F(t,n){const e=t.getBoundingClientRect();return{x:Math.round(n.clientX-e.left),y:Math.round(n.clientY-e.top)}}function R(t,n,e){const{x:i,y:o}=F(t,n);return{event:n,pointersCount:e.length,target:n.target,x:i,y:o,attachmentNode:t}}function D(t,n,e,i,o){const c=R(t,e,i);return t.dispatchEvent(new CustomEvent(`${n}${o}`,{detail:c})),c}function K(){let t=[],n=()=>{},e=[];return{setPointerControls:(i,o,c,a,m,d=P,u=[])=>(o.style.touchAction=B(d).join(" "),e=u,e.forEach(s=>{s.onInit?.(t)}),t.length||(n=v(o,"pointerdown",function(l){t.push(l);const w=D(o,i,l,t,"down");a?.(t,l),setTimeout(()=>{e.forEach(r=>{r.onDown?.(w,t)})});function p(r){const y=t.length;if(t=x(r,t),y>t.length){t.length||h();const L=D(o,i,r,t,"up");m?.(t,r),setTimeout(()=>{e.forEach(S=>{S.onUp?.(L,t)})})}}function h(){f(),C(),I(),b()}const f=v(o,"pointermove",r=>{t=t.map(E=>r.pointerId===E.pointerId?r:E);const y=D(o,i,r,t,"move");c?.(t,r),e.forEach(E=>{E.onMove?.(y,t)})}),C=v(o,"lostpointercapture",r=>{p(r)}),I=v(o,"pointerup",r=>{p(r)}),b=v(o,"pointerleave",r=>{p(r)})})),{destroy:()=>{t.length||(n(),e.forEach(s=>{s.onDestroy?.()}))}})}}const O="@attach";function j(){return Symbol(O)}const g="swipe";function W(t,n,e,i=!1){const{setPointerControls:o}=K(),c=i?g:j();return{...e,[`on${g}`]:t,[c]:a=>{const{onDown:m,onUp:d,parameters:u}=k(a,n?.());return o(g,a,null,m,d,u.touchAction,u.plugins).destroy}}}function k(t,n){const e={timeframe:N,minSwipeDistance:X,touchAction:P,composed:!1,...n};let i,o,c,a;function m(u,s){o=s.clientX,c=s.clientY,i=Date.now(),u.length===1&&(a=s.target)}function d(u,s){if(s.type==="pointerup"&&u.length===0&&Date.now()-i<e.timeframe){const l=s.clientX-o,w=s.clientY-c,p=Math.abs(l),h=Math.abs(w);let f=null;p>=2*h&&p>e.minSwipeDistance?f=l>0?"right":"left":h>=2*p&&h>e.minSwipeDistance&&(f=w>0?"bottom":"top"),f&&t.dispatchEvent(new CustomEvent(g,{detail:{direction:f,target:a,pointerType:s.pointerType}}))}}return{onDown:m,onUp:d,parameters:e}}function q(t,n){$(n,!0);let e=Y(n,["$$slots","$$events","$$legacy"]);function i(a){a.detail.direction===n.direction&&(window.location.href=e.url)}const{swipe:o,onswipe:c}=W(i,()=>({timeframe:500,minSwipeDistance:50,touchAction:"pan-y"}),{},!0);H(T.body,()=>o),U("swipe",T.body,c),_()}const A=document.getElementById("swiper");M(q,{target:A,props:{direction:A.dataset.direction,url:A.dataset.url}});
